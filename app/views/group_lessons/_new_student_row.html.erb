<%
  # parameters:
  # group_lesson - A FormHelper object
  # first_column_blank- include empty initial column
  # instrument_checkbox - include checkbox for instrument
  # books_checkbox - include checkbox for books
  if not defined?(first_column_blank)
    first_column_blank = false
  end
  if not defined?(instrument_checkbox)
    instrument_checkbox = false
  end
  if not defined?(books_checkbox)
    books_checkbox = false
  end
%>
<tr class="new_student_row">
  <% if first_column_blank %>
    <td></td>
  <% end %>
  <%= group_lesson.fields_for :lesson do |lesson_f| %>
    <%= lesson_f.fields_for :student do |lesson_student| %>
      <td>
        <%= lesson_student.text_field :first_name, class: "fname", placeholder: 'Enter new...', form: "add_student_form" %>
      </td>
      <td>
        <%= lesson_student.text_field :last_name, class: "lname", placeholder: "..student...", form: "add_student_form" %>
      </td>
      <td>
        <%= lesson_student.collection_select :school_id, School.where(activated: true).order(:name),:id,:name, {:prompt => "School..."}, {form: "add_student_form"} %>
      </td>
    <% end %>
    <% if instrument_checkbox %>
      <td style="text-align: center">
        <%= lesson_f.check_box :brought_instrument, checked: true, form: "add_student_form" %>
      </td>
    <% end %>
    <% if books_checkbox %>
      <td style="text-align: center">
        <%= lesson_f.check_box :brought_books, checked: true, form: "add_student_form" %>
      </td>
    <% end %>
  <% end %><!-- group_lesson.fields_for :lesson -->
<td style="text-align: center"><button type="submit" onclick="beforeSubmit()" form="add_student_form">Add Student</button></td>
</tr>
